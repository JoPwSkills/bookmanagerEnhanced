<!-- home.html -->
<html>
    <body>
        <h1>Book Manager App</h1>

        <h2>Add Books</h2>
        <form method="POST" action="/">
            <input type="text" name="title" placeholder="Title" required>
            <input type="text" name="author" placeholder="Author">
            <input type="text" name="isbn" placeholder="ISBN">
            <input type="submit" value="Add">
        </form>

        <h2>Upload File</h2>
        <!-- Update the form action to match the route -->
        <form action="/upload" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv,.xml,.xlsx,.json">
            <input type="submit" value="Upload">
        </form>

        <h2>All Books</h2>
        {% for book in books %}
            <div class="book-entry">
                <p>Title: {{book.title}}</p>
                <p>Author: {{book.author}}</p>
                <p>ISBN: {{book.isbn}}</p>
                
                <form method="POST" action="./update">
                    <input type="hidden" value="{{book.title}}" name="oldtitle">
                    <input type="text" value="{{book.title}}" name="newtitle" placeholder="New title">
                    <input type="submit" value="Update">
                </form>
                
                <form method="POST" action="./delete">
                    <input type="hidden" value="{{book.title}}" name="title">
                    <input type="submit" value="Delete">
                </form>
            </div>
            <hr>
        {% endfor %}
    </body>
</html>
